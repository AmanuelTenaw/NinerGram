{% extends 'main.html' %}

{% block content %}
<div style="background-color:white; padding: 2rem; max-width: 700px; margin: auto; border-radius: 10px;">
    <h2>{{ profile.display_name|default:request.user.username }}'s Profile</h2>
    {% if profile.profile_picture %}
    <img src="{{ profile.profile_picture.url }}" width="150" style="border-radius: 50%; border: 1px solid #ccc;" />
{% else %}
    <p><em>No profile picture uploaded.</em></p>
{% endif %}

    <p><strong>Pronouns:</strong> {{ profile.pronouns }}</p>
    <p><strong>Bio:</strong> {{ profile.bio }}</p>

    <p><strong>Followers:</strong> {{ followers_count }}</p>
    <p><strong>Following:</strong> {{ following_count }}</p>

    <a href="{% url 'edit_profile' %}" style="display:inline-block; margin: 10px 0; color: #007bff;">Edit Profile</a>

    <hr>
    <h3>My Posts</h3>
    {% for post in posts %}
        <div style="margin-bottom: 1rem;">
            <p>{{ post.content }}</p>
            {% if post.image %}
                <img src="{{ post.image.url }}" style="max-width: 100%; border-radius: 5px;" />
            {% endif %}
        </div>
    {% empty %}
        <p>You haven't posted anything yet.</p>
    {% endfor %}
</div>
{% endblock %}
